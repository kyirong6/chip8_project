<!DOCTYPE html>
<html>
<head>
    <title>Chip-8</title>
    <h2 id="heading" align=center>CHIP-8 EMULATOR IN JAVASCRIPT</h2>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="styles.css" media="screen" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="chip8.js"></script>
    <script src="components/Memory.js"></script>
    <script src="components/Input.js"></script>
    <script src="components/Display.js"></script>
    <script src="components/CPU.js"></script>
    <script src="components/Assembler.js"></script>
    <script src="chip8.test.js"></script>


    <script>
    	function tableCreate(){
    		let rows =32;
            let cols=64;
            let table = document.getElementById('tbl');

			/*for (let r = 0; r<rows; r++){
                let row = table.insertRow(-1);
  				for (let c = 0; c<cols; c++){
                    let cell = row.insertCell(-1);
    				cell.setAttribute('id', "cell"+r+"-"+c );

  				}
			}*/
}
    </script>

    <script type="text/javascript">

    function startnew() {
      var opcode = prompt("Enter an testing opcode:");
      while (opcode.length != 6){
        opcode = prompt("Enter an valid opcode:")
      }
      window.chip = new chip8();
      chip.opcodetest(opcode);
    }

    </script>

    <script>

      function _continue() {
        var opcode = prompt("Enter an testing opcode:");
        while (opcode.length != 6){
          opcode = prompt("Enter an valid opcode:")
        }
        chip.opcodetest(opcode);
      }

    </script>

    <script>
      function onSelection() {
        window.chip1 = new chip8();
        alert("selected");
        const games = document.getElementById('game').files;
        game = games[0];
        chip1.restart();
        chip1.loadProgram(game);
      }
    </script>

    <script>
      function start(){
        const games = document.getElementById('game').files;
        if (games.length == 0) {
          alert("Please Select A Game");
          return;
        }
        chip1.filetest();
      }
    </script>

    <script>
      function Utest(){
        window.chip2 = new chip8();
        chip2.Utest();
      }
    </script>
</head>



<body onload="tableCreate();">
​<div id="tblHold">
  <canvas id = "tbl" height="320px" width="640px"> </canvas>

  <div style="text-align:center;">
    <button onclick="startnew()">START TESTING INDIVIDUAL OPCODE</button>
    <button onclick="_continue()">CONTINUE TO NEXT OPCODE</button>
    <input type="file" id="game" name="myFile" oninput="onSelection();">
    <button onclick ="start()">START TESTING FILE</button><br>
    <button onclick ="Utest()">START UNIT TESTING</button><br>
  </div>
</div>

<div id="hold">

    <div id="log"><p id = "inLog">log</p></div>
    <div id="con"><p id = "inCon"> </p></div>
    <div id ="other"><p id = "inOther"></p></div>
    <div id="mem"><p id="inMem"></p></div>
</div>
</body>
</html>
​
